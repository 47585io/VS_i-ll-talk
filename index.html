<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8" name="viewport" content="initial-scale=1,maximum-scale=2,
			minimum-scale=0.5,user-scalable=yes" />
	<link href="CSS/index.css" rel="stylesheet" />
	<link href="CSS/menu.css" rel="stylesheet" />
	<script src="JavaScript/nclick.js" defer="defer"></script>
	<script src="JavaScript/menu.js" defer="defer"></script>
	<script src="JavaScript/switch.js" defer="defer"></script>
	<script src="JavaScript/T.js" defer="defer"></script>
	<script src="JavaScript/install.js" defer="defer"></script>
	<script src="JavaScript/color.js" defer="defer"></script>
	<script src="JavaScript/mark.js" defer="defer"></script>
	<script src="JavaScript/edit.js" defer="defer"></script>
	<script src="JavaScript/help.js" defer="defer"></script>
	<script src="JavaScript/index.js" defer="defer"></script>

</head>

<body>
	<div id="menu" isopen="1">
		<button class="vscode" id="vscode"></button>
		<select id="goto">
			<option>转到</option>

			<option>转到上一个Mark</option>
			<option>转到下一个Mark</option>
			<option>转到第一个Mark</option>
			<option>转到最后的Mark</option>
			<option>转到指定的Mark</option>
			<option>转到页面开头</option>
			<option>转到页面末尾</option>
			<option disabled>添加一个Mark &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;仅三击</option>
			<option disabled>删除一个Mark &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 仅长按</option>
			<option>清除所有Mark</option>
			<option>都不选</option>
		</select>
		<select id="edit">
			<option>编辑</option>
			<option>只读编辑器</option>
			<option>只写编辑器</option>
			<option>选择语言</option>
			<option>放入一个文件到编辑器</option>
			<a download target="_blank" href="" id="edit_download"><option>将编辑器文本保存成文件</option></a>
		</select>
		<select id="help">
			<option>帮助</option>
			<option>开始</option>
			<option>速览帮助文档</option>
			<option>运行编辑器的文本</option>
			<option>打开输出窗口</option>

		</select>
</div>
    <input id="file" type="file"> 
	<div id="maind" ishover="0"></div>
	<div id="tab2">
		<pre class='code' id="output">
		</pre>
		<textarea id="input"></textarea>
	</div>
	<div id="tab3"></div>

	<div id="main">
		<br>
		<!--1-->
<h1 class="title">愉快地开始</h1>
		<p class="newp">
要实现JavaScript文件操作，必须先设置一个input元素，并把其type属性置为"file",让用户选择文件

【实例1】下例演示了:在用户选择一个文件后(input的value变化时)，将其输出

您可以尝试着单击复制按扭，生成的彩色html代码会输出到输出窗口
如果您双击复制按扭，运行结果会输出到输出窗口，(帮助 → 输出窗口)
		
</p>
		<div class="ther" truecode="indexOne()">
		<pre class="code broken" mark="html,0,5;js,5,9;html,9,12">
< !DOCTYPE HTML>
< html>
< body>
	<input type="file" id="file">
	<script>
	    var myfile=document.querySelector("#file")
	        myfile.onchange=function (event,){
			alert(this.value)
		}
	</script>
< /body>
< /html>
		</pre>
		</div >

<!--2-->

	<br />
    为了方便用户在脚本中访问这些将要提交的文件, <br>HTML5新增了
	<a class="T" mytext="<a>(FileList)</a><br>表示用户选择的文件列表
	<br/>">FileList</a>
	和<a class="T" mytext="<a>(File)</a><br>表示用户选择的文件列表中的文件对象
	<br/><br /><li>name   文件名</li><li>lastModifiedDate    文件最后的修改时间</li>"> File </a>对象
	<br/><br/>
	【实例2】下面实例演示了如何使用FileList和File对象访问用户提交的文件名称列表。
	<br /><br/>

<div truecode="indexTwo()" class="ther">
<pre class="code broken" mark="html,0,6;js,6,14;html,14,16" >

< body>
	<input type="file" id="file" multiple>
	<!--multiple 属性是 HTML5 中的新属性, 如果使用该属性，则字段可接受多个值-->
< /body>
<script >

	var myfile = document.getElementById("file");
	myfile.onchange = function () {
		for (var i = 0; i < this.files.length; i++)
			console.log(this.files[i].name);
		//files 为 Filelist对象, files[i] 为 File对象
	};

</script>
</pre>
</div>



<!--3-->
<br/><br />
<h1 class="title">Blob对象</h1>
HTML5的<a class="T" mytext="
<a>(Blob)</a><br>用于存储二进制数据，还可以设置存储数据的MIME类型<br/><br />
<li>
size 表示一个Blob对象的字节长度
</li><li>
type 表示Blob的MIME类型，如果为未知类型，则返回一个空字符串</li>">
 Blob </a>对象用于存储二进制数据，还可以设置存储数据的MIME类型，其他HTML5二进制对象继承Blob对象。
<br/><br/>
【实例3】关键代码
<br /><br />
<div truecode="indexThree()" class="ther">
<pre class="code code_js">
function getSize(){
	for (let file of document.getElementById("file").files)
		console.log(file.size)
		console.log(file.type)
		//因为file对象继承自Blob，所以也拥有size和type属性
}
myfile.onchange=getSize()
</pre>
</div>


<p class="note">
注意：对于图像类型的文件，Blob对象的type属性都是以<q>image/</q>开头，后面是图像类型。
</p>
<br /><br />

【实例4】通过type属性，我们可以判断它是不是一个图片，例如:
<br/><br/>
<div truecode="indexFour()" class="ther">
<pre class="code code_js">
myfile.onchange=function()
{
	typestr = this.files[0].type
	if(!/image\/\w+/.test(typestr))
        //!/image\/\w+/是一个正则表达式，用于判断它是否以image/开头，
        //当然，和字符串一样，js中的正则表达式也是对象，它的test方法用于将自己和指定字符串进行匹配
	    alert("not image")
	else
	    alert(this.files[0].name)
}
</pre>
</div>
<br/><br>

<h1 class="title">创建Blob</h1>
<br>
创建Blob对象的基本用法如下：<br><br>
<div class="ther" truecode=" ">
<pre class="code code_js">
var blob = new Blob(blobParts, type);</pre>
</div>
<br /><br>





	</div>
</body>
</html>